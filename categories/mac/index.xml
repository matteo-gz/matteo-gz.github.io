<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>mac - Category - matteo's blog</title><link>https://matteo-gz.github.io/categories/mac/</link><description>mac - Category - matteo's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 06 May 2023 18:51:35 +0800</lastBuildDate><atom:link href="https://matteo-gz.github.io/categories/mac/" rel="self" type="application/rss+xml"/><item><title>Synergy启动在登录前</title><link>https://matteo-gz.github.io/posts/synergy/</link><pubDate>Sat, 06 May 2023 18:51:35 +0800</pubDate><author>Author</author><guid>https://matteo-gz.github.io/posts/synergy/</guid><description><![CDATA[介绍 Synergy是一个模拟键盘和鼠标的软件，我的win和mac都启动时可以用一套键鼠操控。 mac作为Synergy的客户端时，win作为Synergy的服务端使用。
背景 目前Synergy在登录前软件没有启动,只有登录后启动,导致登录时无法输入密码,因为我的键盘鼠标连接在win上。下面是解决办法
原理 软件在mac未登录前是root的身份运行，登录后才是选择的用户,在root身份下将软件加入mac的Launch Daemons就可以解决了
实操 synergy的存放位置是 /Applications/Synergy.app/Contents/MacOS/synergy
运行命令行启动
open /Applications/Synergy.app/Contents/MacOS/synergy 时,可以看到启动参数 /Applications/Synergy.app/Contents/MacOS/synergyc -f --no-tray --debug INFO --name &quot;mac&quot; &quot;192.168.50.59:24800&quot;
修改为Launch Daemons的配置
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt; &lt;plist version=&#34;1.0&#34;&gt; &lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;com.example.hello&lt;/string&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;/Applications/Synergy.app/Contents/MacOS/synergyc&lt;/string&gt; &lt;string&gt;-f&lt;/string&gt; &lt;string&gt;--no-tray&lt;/string&gt; &lt;string&gt;--debug&lt;/string&gt; &lt;string&gt;INFO&lt;/string&gt; &lt;string&gt;--name&lt;/string&gt; &lt;string&gt;mac&lt;/string&gt; &lt;string&gt;192.168.50.59:24800&lt;/string&gt; &lt;/array&gt; &lt;key&gt;KeepAlive&lt;/key&gt; &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; ProgramArguments对象下是cli启动参数
然后以root身份 放入 /Library/LaunchDaemons/ 下,文件名随便起一个com.example.synergy.plist
这样重启后,就可以在mac上输入密码,当键盘连接在win上时候，因为synergy已经生效
总结 # 敲root密码 sudo su # 切目录 cd /Library/LaunchDaemons/ #创建文件 touch com.]]></description></item></channel></rss>